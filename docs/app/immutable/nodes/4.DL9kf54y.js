import"../chunks/DsnmJJEf.js";import{aq as fe,R as ge,ar as _e,as as be,e as me,p as he,u as J,i as e,g,f as w,a as D,h as N,s as n,t as E,b as x,c as pe,d as u,j as Q,r as l}from"../chunks/D0q9m46o.js";import{s as q}from"../chunks/C8tDc6ZC.js";import{i as V}from"../chunks/0lnUn0pr.js";import{e as W,i as Y}from"../chunks/D0s2WBf5.js";import{s as h}from"../chunks/AG9666Hg.js";function $(a,t,y=!1){if(a.multiple){if(t==null)return;if(!ge(t))return _e();for(var r of a.options)r.selected=t.includes(Z(r));return}for(r of a.options){var s=Z(r);if(be(s,t)){r.selected=!0;return}}(!y||t!==void 0)&&(a.selectedIndex=-1)}function xe(a){var t=new MutationObserver(()=>{$(a,a.__value)});t.observe(a,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),fe(()=>{t.disconnect()})}function Z(a){return"__value"in a?a.__value:a.value}var we=(a,t)=>g(t,Number(a.target.value),!0),ye=w("<option> </option>"),ke=w('<p class="mt-8 text-gray-600">No images found.</p>'),Me=w('<button type="button" class="group relative aspect-square overflow-hidden rounded-lg bg-gray-100 shadow hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500"><img loading="lazy" class="h-full w-full object-cover transition-transform duration-200 group-hover:scale-105"/></button>'),Pe=(a,t)=>g(t,Math.max(1,e(t)-1),!0),ze=(a,t,y)=>g(t,Math.min(e(y),e(t)+1),!0),Ee=w('<div class="mt-6 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3"></div> <div class="mt-6 flex items-center justify-center gap-2"><button type="button" class="rounded-md border border-gray-300 px-3 py-1 text-sm text-gray-700 disabled:opacity-50">Prev</button> <span class="text-sm text-gray-600"> </span> <button type="button" class="rounded-md border border-gray-300 px-3 py-1 text-sm text-gray-700 disabled:opacity-50">Next</button></div>',1),Se=(a,t)=>{(a.key==="Enter"||a.key===" ")&&t()},je=(a,t)=>{a.stopPropagation(),t()},Ne=(a,t)=>{a.stopPropagation(),t()},Ie=(a,t)=>{a.stopPropagation(),t()},Le=a=>a.stopPropagation(),Oe=w('<div class="fixed inset-0 z-40 bg-black/60 backdrop-blur-sm" aria-hidden="true"></div> <div class="fixed inset-0 z-50 flex items-center justify-center p-4" role="button" tabindex="0"><button type="button" class="fixed left-4 top-1/2 z-[60] -translate-y-1/2 rounded-full bg-black/60 p-2 text-white hover:bg-black/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white" aria-label="Previous image">◀</button> <button type="button" class="fixed right-4 top-1/2 z-[60] -translate-y-1/2 rounded-full bg-black/60 p-2 text-white hover:bg-black/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white" aria-label="Next image">▶</button> <button type="button" class="fixed right-4 top-4 z-[60] rounded-full bg-black/60 p-2 text-white hover:bg-black/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white" aria-label="Close">✕</button> <div class="relative max-h-[90vh] w-full max-w-5xl" role="dialog" aria-modal="true" tabindex="-1"><img class="mx-auto hidden max-h-[85vh] w-auto rounded-lg shadow-lg md:block"/> <img class="mx-auto block max-h-[85vh] w-auto rounded-lg shadow-lg md:hidden"/></div></div>',1),Te=w('<section class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-10"><div class="flex flex-wrap items-center justify-between gap-4"><div><h1 class="text-2xl font-semibold text-gray-900">Gallery</h1> <p class="text-gray-600 mt-1"> </p></div> <div class="flex items-center gap-2"><label for="pageSize" class="text-sm text-gray-700">Per page</label> <select id="pageSize" class="rounded border-gray-300 text-sm"></select></div></div> <!></section> <!>',1);function Ce(a,t){he(t,!0);const y=[24,48,72];let r=N(24),s=N(1);const k=Q(()=>Math.max(1,Math.ceil(t.data.images.length/e(r)))),A=Q(()=>t.data.images.slice((e(s)-1)*e(r),(e(s)-1)*e(r)+e(r)));let S=N(!1),c=N(0);function ee(i){g(c,i,!0),g(S,!0),ie()}function M(){g(S,!1),re()}function I(){t.data.images.length&&g(c,(e(c)-1+t.data.images.length)%t.data.images.length)}function L(){t.data.images.length&&g(c,(e(c)+1)%t.data.images.length)}function G(i){e(S)&&(i.key==="ArrowLeft"?(i.preventDefault(),I()):i.key==="ArrowRight"?(i.preventDefault(),L()):i.key==="Escape"&&(i.preventDefault(),M()))}J(()=>{if(!(typeof window>"u"))return window.addEventListener("keydown",G),()=>window.removeEventListener("keydown",G)});let R=0,C=0;function te(i){R=i.changedTouches[0]?.screenX??0}function ae(i){C=i.changedTouches[0]?.screenX??0;const o=C-R;Math.abs(o)>40&&(o<0?L():I())}function ie(){document.documentElement.style.overflow="hidden"}function re(){document.documentElement.style.overflow=""}function oe(i){return(e(s)-1)*e(r)+i}J(()=>{e(s)>e(k)&&g(s,e(k),!0)});var F=Te(),O=D(F),T=u(O),X=u(T),K=n(u(X),2),ne=u(K);l(K),l(X);var U=n(X,2),b=n(u(U),2);b.__change=[we,r],W(b,21,()=>y,Y,(i,o)=>{var d=ye(),v=u(d,!0);l(d);var f={};E(()=>{q(v,e(o)),f!==(f=e(o))&&(d.value=(d.__value=e(o))??"")}),x(i,d)}),l(b);var B;xe(b),l(U),l(T);var le=n(T,2);{var se=i=>{var o=ke();x(i,o)},de=i=>{var o=Ee(),d=D(o);W(d,21,()=>e(A),Y,(P,m,ve)=>{var z=Me();z.__click=()=>ee(oe(ve));var H=u(z);l(z),E(()=>{h(z,"aria-label",`Open ${e(m).filename}`),h(H,"src",e(m).thumbUrl??e(m).url),h(H,"alt",e(m).filename)}),x(P,z)}),l(d);var v=n(d,2),f=u(v);f.__click=[Pe,s];var p=n(f,2),j=u(p);l(p);var _=n(p,2);_.__click=[ze,s,k],l(v),E(()=>{f.disabled=e(s)===1,q(j,`Page ${e(s)??""} / ${e(k)??""}`),_.disabled=e(s)===e(k)}),x(i,o)};V(le,i=>{e(A).length===0?i(se):i(de,!1)})}l(O);var ue=n(O,2);{var ce=i=>{var o=Oe(),d=D(o);d.__click=M;var v=n(d,2);v.__pointerdown=M,v.__keydown=[Se,M];var f=u(v);f.__pointerdown=[je,I];var p=n(f,2);p.__pointerdown=[Ne,L];var j=n(p,2);j.__pointerdown=[Ie,M];var _=n(j,2);_.__pointerdown=[Le],_.__touchstart=te,_.__touchend=ae;var P=u(_),m=n(P,2);l(_),l(v),E(()=>{h(P,"src",t.data.images[e(c)]?.url),h(P,"alt",t.data.images[e(c)]?.filename),h(m,"src",t.data.images[e(c)]?.url),h(m,"alt",t.data.images[e(c)]?.filename)}),x(i,o)};V(ue,i=>{e(S)&&i(ce)})}E(()=>{q(ne,`${t.data.images.length??""} images`),B!==(B=e(r))&&(b.value=(b.__value=e(r))??"",$(b,e(r)))}),x(a,F),pe()}me(["change","click","pointerdown","keydown","touchstart","touchend"]);export{Ce as component};
