import"../chunks/DsnmJJEf.js";import{at as A,au as B,M as f,z as C,m as F,av as G,aw as H,p as J,a5 as K,f as g,b,c as N,s as u,d as m,r as d,t as $,ax as O}from"../chunks/D0q9m46o.js";import{s as M}from"../chunks/C8tDc6ZC.js";import{i as P}from"../chunks/0lnUn0pr.js";import{r as V}from"../chunks/AG9666Hg.js";import{s as Q,a as R}from"../chunks/T_cIdITX.js";import"../chunks/CFyvSpp7.js";import{a as T,g as U}from"../chunks/BIw2A67s.js";import{g as X}from"../chunks/IHCKMbve.js";function W(e,t,v=t){var x=A(),c=new WeakSet;B(e,"input",a=>{var r=a?e.defaultValue:e.value;if(r=h(e)?S(r):r,v(r),f!==null&&c.add(f),x&&r!==(r=t())){var _=e.selectionStart,i=e.selectionEnd;e.value=r??"",i!==null&&(e.selectionStart=_,e.selectionEnd=Math.min(i,e.value.length))}}),(C&&e.defaultValue!==e.value||F(t)==null&&e.value)&&(v(h(e)?S(e.value):e.value),f!==null&&c.add(f)),G(()=>{var a=t();if(e===document.activeElement){var r=H??f;if(c.has(r))return}h(e)&&a===S(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function h(e){var t=e.type;return t==="number"||t==="range"}function S(e){return e===""?null:+e}var Z=g('<p class="text-sm text-red-600"> </p>'),ee=g('<form class="mt-6 max-w-sm space-y-4"><div><label for="email" class="block text-sm font-medium text-gray-700">Email</label> <input id="email" name="email" type="email" autocomplete="username" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" placeholder="you@example.com"/></div> <div><label for="password" class="block text-sm font-medium text-gray-700">Password</label> <input id="password" name="password" type="password" autocomplete="current-password" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"/></div> <button type="submit" class="inline-flex items-center justify-center rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50"> </button> <!></form>'),ae=g('<div class="mt-6 max-w-sm text-sm text-gray-700">You are already signed in.</div>'),re=g('<section class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-10"><h1 class="text-2xl font-semibold text-gray-900">Login</h1> <p class="text-gray-600 mt-2">Sign in to your account.</p> <!></section>');function ce(e,t){J(t,!0);const[v,x]=Q(),c=()=>R(T,"$auth",v),a=K({email:"",password:"",error:"",loading:!1});function r(s){_(s)}const _=async s=>{s.preventDefault(),a.error=null,a.loading=!0;const o=U();if(!o){a.error="Supabase is not available.",a.loading=!1;return}const{error:n}=await o.auth.signInWithPassword({email:a.email,password:a.password});if(a.loading=!1,n){a.error=n.message;return}a.email="",a.password="",await X("/",{replaceState:!0})};var i=re(),j=u(m(i),4);{var z=s=>{var o=ee(),n=m(o),k=u(m(n),2);V(k),d(n);var w=u(n,2),E=u(m(w),2);V(E),d(w);var p=u(w,2),I=m(p,!0);d(p);var L=u(p,2);{var Y=l=>{var y=Z(),q=m(y,!0);d(y),$(()=>M(q,a.error)),b(l,y)};P(L,l=>{a.error&&l(Y)})}d(o),$(()=>{p.disabled=a.loading,M(I,a.loading?"Signing inâ€¦":"Sign in")}),O("submit",o,r),W(k,()=>a.email,l=>a.email=l),W(E,()=>a.password,l=>a.password=l),b(s,o)},D=s=>{var o=ae();b(s,o)};P(j,s=>{c().user?s(D,!1):s(z)})}d(i),b(e,i),N(),x()}export{ce as component};
